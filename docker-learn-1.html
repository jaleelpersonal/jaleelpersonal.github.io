<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- iOS Safari -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- Chrome, Firefox OS and Opera Status Bar Color -->
<meta name="theme-color" content="#FFFFFF">
<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css">
<link rel="stylesheet" type="text/css"
  href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/themes/prism.min.css">
<link rel="stylesheet" type="text/css" href="css/SourceSansPro.css">
<link rel="stylesheet" type="text/css" href="css/theme.css">
<link rel="stylesheet" type="text/css" href="css/notablog.css">
<!-- Favicon -->

  <link rel="shortcut icon" href="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fca6e9e8d-f91e-48ac-b23c-f18320c1c383%2FRDN_%25E5%258C%25BA%25E5%259D%2597%25E9%2593%25BE.png?table=collection&amp;id=7341bacf-11e4-44a7-8730-f75a670e8ab8">

<style>
  :root {
    font-size: 20px;
  }
</style>
  <title>Dockerå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰&nbsp;|&nbsp;Jaleel</title>
  <meta property="og:type" content="blog">
  <meta property="og:title" content="Dockerå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰">
  
    <meta name="description" content="Dockerå­¦ä¹ ç¬”è®°">
    <meta property="og:description" content="Dockerå­¦ä¹ ç¬”è®°">
  
  
    <meta property="og:image" content="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1f2dfb2f-ced0-430b-a237-4f5d2a642ff9%2Fv2-68b55eca7e54ac6b7e3dae441e193827_720w.jpg?table=block&amp;id=bc2028c3-4435-432b-aa72-a68c2ced36e6">
  
  <style>
    .DateTagBar {
      margin-top: 1.0rem;
    }
  </style>
</head>

<body>
  <nav class="Navbar">
  <a class="navbar-brand" href="/">
    <strong>Jaleel's Blog</strong>
  </a>

  <a href="index.html">
    <div class="Navbar__Btn">
      
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fca6e9e8d-f91e-48ac-b23c-f18320c1c383%2FRDN_%25E5%258C%25BA%25E5%259D%2597%25E9%2593%25BE.png?table=collection&amp;id=7341bacf-11e4-44a7-8730-f75a670e8ab8"></span>&nbsp;
      
      <span>ä¸»é¡µ</span>
    </div>
  </a>
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="paper.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="data:image/svg+xml,&lt;svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22&gt;&lt;text text-anchor=%22middle%22 dominant-baseline=%22middle%22 x=%2250%22 y=%2255%22 font-size=%2280%22&gt;ğŸ“”&lt;/text&gt;&lt;/svg&gt;"></span>&nbsp;
          
          <span>æŠ€æœ¯èµ„æ–™</span>
        </div>
      </a>
    
  
    
      <span class="Navbar__Delim">&centerdot;</span>
      <a href="about.html">
        <div class="Navbar__Btn">
          
            <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Ff4c34181-9785-493c-a490-929fa5895258%2F224%25E7%2594%25A8%25E6%2588%25B7.png?table=block&amp;id=cce294fa-3f4c-413b-9b68-387c3c57cb66"></span>&nbsp;
          
          <span>å…³äº</span>
        </div>
      </a>
    
  
</nav>

  <header class="Header">
    
      <div class="Header__Cover">
        <img src="https://www.notion.so/images/page-cover/woodcuts_sekka_3.jpg">
      </div>
    
    <div class="Header__Spacer ">
    </div>
    
      <div class="Header__Icon">
        <span><img class="inline-img-icon" src="https://www.notion.so/signed/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F1f2dfb2f-ced0-430b-a237-4f5d2a642ff9%2Fv2-68b55eca7e54ac6b7e3dae441e193827_720w.jpg?table=block&amp;id=bc2028c3-4435-432b-aa72-a68c2ced36e6"></span>
      </div>
    
    <h1 class="Header__Title">Dockerå­¦ä¹ ç¬”è®°ï¼ˆä¸€ï¼‰</h1>
    
      <div class="DateTagBar">
        
          <span class="DateTagBar__Item DateTagBar__Date">Posted on Wed, Oct 19, 2022</span>
        
        
          <span class="DateTagBar__Item DateTagBar__Tag DateTagBar__Tag--orange">
            <a href="tag/Docker.html">Docker</a>
          </span>
        
      </div>
    
  </header>
  <article id="https://www.notion.so/bc2028c34435432baa72a68c2ced36e6" class="PageRoot"><h1 id="https://www.notion.so/c48d92ca096642809623140c8a03d55f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/c48d92ca096642809623140c8a03d55f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä¸€ã€Dockerçš„å®‰è£…ä¸å¸è½½ï¼ˆUbuntuç‰ˆæœ¬ï¼‰</span></span></h1><h3 id="https://www.notion.so/5cd23a347bdf4924b9eadcff07983792" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5cd23a347bdf4924b9eadcff07983792"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockerçš„å®‰è£…</span></span></h3><pre id="https://www.notion.so/10fd2d64cd54421693f771c107ee546f" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># 1ã€æ›´æ–°è½¯ä»¶åŒ…ç´¢å¼•ï¼Œå¹¶ä¸”å®‰è£…å¿…è¦çš„ä¾èµ–è½¯ä»¶ï¼Œæ¥æ·»åŠ ä¸€ä¸ªæ–°çš„ HTTPS è½¯ä»¶æºï¼š
sudo apt update
sudo apt install apt-transport-https ca-certificates curl gnupg-agent software-properties-common

sudo apt install apt-transport-https ca-certificates curl software-properties-common

# 2ã€ä½¿ç”¨ä¸‹é¢çš„ curl å¯¼å…¥æºä»“åº“çš„ GPG keyï¼š
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo apt-key add -

# 3ã€å°† Docker APT è½¯ä»¶æºæ·»åŠ åˆ°ä½ çš„ç³»ç»Ÿï¼š
sudo add-apt-repository &quot;deb [arch=amd64] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable&quot;

# 4ã€å®‰è£… Docker æœ€æ–°ç‰ˆæœ¬
sudo apt update
sudo apt install docker-ce docker-ce-cli containerd.io

# 5ã€å®‰è£…æŒ‡å®šç‰ˆæœ¬Docker
sudo apt update
apt list -a docker-ce
sudo apt install docker-ce=&lt;VERSION&gt; docker-ce-cli=&lt;VERSION&gt; containerd.io

# 6ã€éªŒè¯Dockerä¿¡æ¯
sudo systemctl status docker

# 7ã€é˜»æ­¢è‡ªåŠ¨æ›´æ–°
sudo apt-mark hold docker-ce

# 8ã€ä»¥é Root ç”¨æˆ·èº«ä»½æ‰§è¡Œ Docker
sudo usermod -aG docker $USER               # $USERæ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œä»£è¡¨å½“å‰ç”¨æˆ·åã€‚

# 9ã€éªŒè¯å®‰è£…è¿‡ç¨‹
docker container run hello-world

# 10ã€è®¾ç½®é•œåƒåœ°å€
vim /etc/docker/daemon.json
# å¢åŠ ä»¥ä¸‹å†…å®¹
{
&quot;registry-mirrors&quot;:[&quot;https://hub-mirror.c.163.com&quot;,&quot;https://registry.aliyuncs.com&quot;,&quot;https://registry.docker-cn.com&quot;,&quot;https://docker.mirrors.ustc.edu.cn&quot;]
}
# ä¿®æ”¹åé‡å¯dockeræœåŠ¡
service docker restart</span></span></span></code></pre><h3 id="https://www.notion.so/92f1f23d4ce948f8bdea1632cdc69b77" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/92f1f23d4ce948f8bdea1632cdc69b77"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockerçš„å¸è½½</span></span></h3><pre id="https://www.notion.so/2a2009daba3541218db12d1484353eda" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># å¸è½½Docker CE
sudo apt-get purge docker-ce
sudo apt-get purge docker docker-ce docker-engine  docker.io  containerd runc
# å¸è½½Docker EE
sudo apt-get purge docker-ee
# åˆ é™¤Dockeré•œåƒã€å®¹å™¨ã€æ•°æ®å·ç­‰æ–‡ä»¶
sudo rm -rf /var/lib/docker

# åˆ é™¤dockerå…¶ä»–æ²¡æœ‰æ²¡æœ‰å¸è½½
dpkg -l | grep docker
sudo apt-get autoremove docker docker-ce docker-engine  docker.io  containerd runc
sudo apt-get autoremove docker-ce-*
sudo rm -rf /etc/systemd/system/docker.service.d
sudo rm -rf /var/lib/docker</span></span></span></code></pre><h1 id="https://www.notion.so/fcdba85b6bb24350ad7ea27142485f56" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/fcdba85b6bb24350ad7ea27142485f56"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">äºŒã€Dockerçš„å®‰è£…ä¸å¸è½½ï¼ˆCentosç‰ˆæœ¬ï¼‰</span></span></h1><h3 id="https://www.notion.so/5a0672dfe42347cdacfc4816f0d10f70" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5a0672dfe42347cdacfc4816f0d10f70"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockerçš„å®‰è£…</span></span></h3><div id="https://www.notion.so/49c6a073392446faabf3325be158d282" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">åœ¨å®‰è£… Docker ä¹‹å‰ï¼Œå…ˆè¯´ä¸€ä¸‹é…ç½®ï¼Œæˆ‘è¿™é‡Œæ˜¯Centos7 Linux å†…æ ¸ï¼šå®˜æ–¹å»ºè®® 3.10 ä»¥ä¸Šï¼Œ3.8ä»¥ä¸Šè²Œä¼¼ä¹Ÿå¯ã€‚</span></span></p></div><div id="https://www.notion.so/bd117358e38648e7a19da3be179b2dd9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ³¨æ„ï¼šæœ¬æ–‡çš„å‘½ä»¤ä½¿ç”¨çš„æ˜¯ root ç”¨æˆ·ç™»å½•æ‰§è¡Œï¼Œä¸æ˜¯ root çš„è¯æ‰€æœ‰å‘½ä»¤å‰é¢è¦åŠ  </span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">sudo</code></span></span></p></div><div id="https://www.notion.so/44caaf92695f43ac917fe23770b260a5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">1.æŸ¥çœ‹å½“å‰çš„å†…æ ¸ç‰ˆæœ¬</strong></span></span></p></div><pre id="https://www.notion.so/b1ad87c4b8384c85af054152ccd63edb" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>uname -r</span></span></span></code></pre><div id="https://www.notion.so/fba65338f0a64814910d99a418e04e2d" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">2.ä½¿ç”¨ root æƒé™æ›´æ–° yum åŒ…ï¼ˆç”Ÿäº§ç¯å¢ƒä¸­æ­¤æ­¥æ“ä½œéœ€æ…é‡ï¼Œçœ‹è‡ªå·±æƒ…å†µï¼Œå­¦ä¹ çš„è¯éšä¾¿æï¼‰</strong></span></span></p></div><pre id="https://www.notion.so/006ef136152f43f3a3632bb1de8972e2" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum -y update</span></span></span></code></pre><div id="https://www.notion.so/2c2c645956eb475685d115b07af35964" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è¿™ä¸ªå‘½ä»¤ä¸æ˜¯å¿…é¡»æ‰§è¡Œçš„ï¼Œçœ‹ä¸ªäººæƒ…å†µï¼Œåé¢å‡ºç°ä¸å…¼å®¹çš„æƒ…å†µçš„è¯å°±å¿…é¡»updateäº†</span></span></p></div><pre id="https://www.notion.so/4e579440af794a979a5d32344766c472" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>æ³¨æ„
yum -y updateï¼šå‡çº§æ‰€æœ‰åŒ…åŒæ—¶ä¹Ÿå‡çº§è½¯ä»¶å’Œç³»ç»Ÿå†…æ ¸ï¼›
yum -y upgradeï¼šåªå‡çº§æ‰€æœ‰åŒ…ï¼Œä¸å‡çº§è½¯ä»¶å’Œç³»ç»Ÿå†…æ ¸</span></span></span></code></pre><div id="https://www.notion.so/34b6a3e46f914d5aa49eddb382f60346" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">3.å¸è½½æ—§ç‰ˆæœ¬ï¼ˆå¦‚æœä¹‹å‰å®‰è£…è¿‡çš„è¯ï¼‰</strong></span></span></p></div><pre id="https://www.notion.so/eb6772c8b68b46ffbe60f7c8f15acc12" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum remove docker  docker-common docker-selinux docker-engine</span></span></span></code></pre><div id="https://www.notion.so/1f8b2634f6b141e7a836fe770ecdf4de" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">4.å®‰è£…éœ€è¦çš„è½¯ä»¶åŒ…ï¼Œ yum-util æä¾›yum-config-manageråŠŸèƒ½ï¼Œå¦ä¸¤ä¸ªæ˜¯devicemapperé©±åŠ¨ä¾èµ–</strong></span></span></p></div><pre id="https://www.notion.so/3273ea276f094644a6c925ab668e1e7b" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum install -y yum-utils device-mapper-persistent-data lvm2</span></span></span></code></pre><div id="https://www.notion.so/6361276c0b9b47c18729a3ffecf14f0b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">5.è®¾ç½® yum æº</strong></span></span></p></div><div id="https://www.notion.so/bce55c6ddcc54eddbe8dd073227997e9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è®¾ç½®ä¸€ä¸ªyumæºï¼Œä¸‹é¢ä¸¤ä¸ªéƒ½å¯ç”¨</span></span></p></div><pre id="https://www.notion.so/4766e800c61647eea656646727f0ac45" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># ä¸­å¤®ä»“åº“
yum-config-manager --add-repo http://download.docker.com/linux/centos/docker-ce.repo
# é˜¿é‡Œä»“åº“
yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span></span></span></code></pre><div id="https://www.notion.so/bfdd3622f3a543f3b635ebf88bf52035" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">6.é€‰æ‹©dockerç‰ˆæœ¬å¹¶å®‰è£…</strong></span></span></p></div><div id="https://www.notion.so/3089ec15a73c4b469ea846750bbf2cdd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ï¼ˆ1ï¼‰å®‰è£…æœ€æ–°ç‰ˆæœ¬</span></span></p></div><pre id="https://www.notion.so/5d7e8394f0c847b2ba177d3722d081fa" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum install docker-ce docker-ce-cli containerd.io</span></span></span></code></pre><div id="https://www.notion.so/6ac9545e08064b00aea66251a856ba35" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ï¼ˆ2ï¼‰æŸ¥çœ‹å¯ç”¨ç‰ˆæœ¬æœ‰å“ªäº›</span></span></p></div><pre id="https://www.notion.so/656015a9f304422481fd01228ba95aee" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum list docker-ce --showduplicates | sort -r</span></span></span></code></pre><div id="https://www.notion.so/846455a9cc0f44e2a44ef75bde7beddb" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">ï¼ˆ3ï¼‰é€‰æ‹©ä¸€ä¸ªç‰ˆæœ¬å¹¶å®‰è£…ï¼š</span><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">yum install docker-ce-ç‰ˆæœ¬å·</code></span></span></p></div><pre id="https://www.notion.so/0497e3d8ba094af493b679517b02c581" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>yum -y install docker-ce-18.03.1.ce</span></span></span></code></pre><div id="https://www.notion.so/341889096c8d4cff976116df29ae40b7" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">7.å¯åŠ¨ Docker å¹¶è®¾ç½®å¼€æœºè‡ªå¯</strong></span></span></p></div><pre id="https://www.notion.so/fe29fc8a80d94b74969358daebf4c407" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>systemctl start docker
systemctl enable docker</span></span></span></code></pre><h1 id="https://www.notion.so/af2dc946db774d4e8caeef56abf3dfec" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/af2dc946db774d4e8caeef56abf3dfec"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä¸‰ã€Dockerçš„åŸºæœ¬ç»„æˆ</span></span></h1><h3 id="https://www.notion.so/3ae412c0bbae4ec3a2e6a82d1886622c" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/3ae412c0bbae4ec3a2e6a82d1886622c"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">é•œåƒï¼ˆimageï¼‰ï¼š</span></span></h3><div id="https://www.notion.so/e4eb2041be95486288e11dcc576582a0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">dockeré•œåƒå¥½æ¯”ä¸€ä¸ªé•œåƒï¼Œå¯ä»¥é€šè¿‡è¿™ä¸ªæ¨¡æ¿åˆ›å»ºå®¹å™¨æœåŠ¡ï¼Œé€šè¿‡è¿™ä¸ªé•œåƒå¯ä»¥åˆ›å»ºå¤šä¸ªå®¹å™¨ï¼ˆæœ€ç»ˆæœåŠ¡è¿è¡Œæˆ–è€…é¡¹ç›®è¿è¡Œå°±æ˜¯åœ¨å®¹å™¨ä¸­çš„ï¼‰</span></span></p></div><div id="https://www.notion.so/212a80800cad4b2bb37e9e8f8cf9bb2f" class="Divider"></div><h3 id="https://www.notion.so/d0c0e6e6c15a4ec5b84d429b09328a3e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/d0c0e6e6c15a4ec5b84d429b09328a3e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®¹å™¨ï¼ˆcontainerï¼‰ï¼š</span></span></h3><div id="https://www.notion.so/ea21809c2de545079bcaca8431e045dc" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Dockeråˆ©ç”¨å®¹å™¨æŠ€æœ¯ï¼Œç‹¬ç«‹è¿ç”¨ä¸€ä¸ªæˆ–ä¸€ç»„åº”ç”¨ï¼Œé€šè¿‡é•œåƒæ¥åˆ›å»ºçš„ï¼Œå¯ä»¥è¿›è¡Œå¯åŠ¨ã€åœæ­¢ã€åˆ é™¤ã€è¿è¡Œç­‰åŸºæœ¬å‘½ä»¤ï¼›å¯ä»¥æŠŠè¿™ä¸ªå®¹å™¨ç®€å•ç†è§£ä¸ºä¸€ä¸ªç®€æ˜“çš„Linuxç³»ç»Ÿ</span></span></p></div><div id="https://www.notion.so/890db38026ce42278f4aa512b5d9e894" class="Divider"></div><h3 id="https://www.notion.so/9e815fbe5b354619b045a97aaf83e625" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9e815fbe5b354619b045a97aaf83e625"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä»“åº“ï¼ˆrepositoryï¼‰ï¼š</span></span></h3><div id="https://www.notion.so/582b62b879d7466da7f9c11b90b21c87" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">å­˜æ”¾é•œåƒçš„åœ°æ–¹ï¼Œå¯åˆ†ä¸ºå…¬æœ‰ä»“å’Œç§æœ‰ä»“ï¼Œé»˜è®¤ä»“åº“ä¸ºDocker Hub</span></span></p></div><div id="https://www.notion.so/b90058fa006d41e78f91552b3296f151" class="Divider"></div><h1 id="https://www.notion.so/58694b9dfdd44c2da584619681e34e20" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/58694b9dfdd44c2da584619681e34e20"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å››ã€Dockerçš„å¸¸ç”¨å‘½ä»¤</span></span></h1><pre id="https://www.notion.so/06d6cad34b49407a83d7ad9969a6ec22" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æ˜¾ç¤ºdockerç‰ˆæœ¬ä¿¡æ¯
docker version
# æ˜¾ç¤ºéƒ½æŒå¡äººçš„ç³»ç»Ÿä¿¡æ¯ï¼ŒåŒ…æ‹¬é•œåƒå’ŒæœåŠ¡
docker info
# ä¸‡èƒ½å‘½ä»¤
docker å‘½ä»¤ --help</span></span></span></code></pre><div id="https://www.notion.so/928e44bd2e2f49d8a8c79e4652154249" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">dockerå®˜æ–¹æ–‡æ¡£ï¼šçœç•¥</span></span></p></div><div id="https://www.notion.so/4c6c5d914fdf4bc59b81976633ac2a1f" class="Divider"></div><h3 id="https://www.notion.so/c36df37829744503a0019b50406b8bc1" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c36df37829744503a0019b50406b8bc1"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">é•œåƒå‘½ä»¤ï¼š</span></span></h3><pre id="https://www.notion.so/df2d57ce954d45acba5111a9a8281a29" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æŸ¥çœ‹æ‰€æœ‰æœ¬åœ°çš„ä¸»æœºä¸Šçš„é•œåƒ
docker images
    -a      # åˆ—å‡ºæ‰€æœ‰çš„é•œåƒ
    -q      # åªæ˜¾ç¤ºé•œåƒçš„Id

# dockerçš„æœç´¢
docker search mysql(é•œåƒåç§°)

# dockerä¸‹è½½é•œåƒ
docker pull mysql
docker pull mysql:5.7 # nameï¼štagï¼Œä¸å†™tagé»˜è®¤æ˜¯latest

# dockeråˆ é™¤é•œåƒ
docker rmi -f imageId/imageName         # é€šè¿‡é•œåƒåå­—æˆ–é•œåƒIdåˆ é™¤é•œåƒï¼Œå¯åˆ é™¤å¤šä¸ª
docker rmi -f $(docker images -ag)      # æŸ¥è¯¢å‡ºæ‰€æœ‰é•œåƒï¼Œé€’å½’åˆ é™¤
</span></span></span></code></pre><div id="https://www.notion.so/ad68db36f67a403ba306f6799a29751b" class="Divider"></div><h3 id="https://www.notion.so/e7823695099943919d219642cc26c0eb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e7823695099943919d219642cc26c0eb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®¹å™¨å‘½ä»¤ï¼š</span></span></h3><pre id="https://www.notion.so/1a9eecde9e6841279b2581f71cc42d22" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>docker pull centos
docker run --help
docker run [å¯é€‰å‚æ•°] image
    --name=&quot;Name&quot;       # å®¹å™¨åå­—
    -d                  # åå°è¿è¡Œï¼Œ nohup
    -it                 # ä½¿ç”¨äº¤äº’æ–¹å¼è¿è¡Œï¼Œè¿›å…¥å®¹å™¨æŸ¥çœ‹
    -p                  # æŒ‡å®šå®¹å™¨ç«¯å£ï¼Œå¦‚ï¼š-p 8080:8080
        -p      # ä¸»æœºç«¯å£ï¼šå®¹å™¨ç«¯å£
        -p      # å®¹å™¨ç«¯å£
        -p      # ip:ä¸»æœºç«¯å£:å®¹å™¨ç«¯å£

# æµ‹è¯•ï¼Œå¯åŠ¨å¹¶è¿›å…¥å®¹å™¨
docker run -it centos /bin/bash

# åˆ—å‡ºæ‰€æœ‰è¿è¡Œçš„å®¹å™¨
docker ps [å‘½ä»¤]
    -a          # åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨å’Œå†å²è¿è¡Œçš„å®¹å™¨
                # å‘½ä»¤ä¸ºç©ºï¼Œåˆ™åˆ—å‡ºå½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
    -n=1        # æ˜¾ç¤ºæœ€è¿‘åˆ›å»ºçš„å®¹å™¨
    -q          # åªæ˜¾ç¤ºå®¹å™¨çš„ç¼–å·

# é€€å‡ºå®¹å™¨
exit            # å®¹å™¨åœæ­¢å¹¶é€€å‡º
Ctrl + p + q    # é€€å‡ºå®¹å™¨ï¼Œä¸åœæ­¢è¿è¡Œ

# åˆ é™¤å®¹å™¨
docer rm å®¹å™¨id                       # åˆ é™¤æŒ‡å®šå®¹å™¨ï¼Œä¸èƒ½åˆ é™¤æ­£åœ¨è¿è¡Œçš„å®¹å™¨
docker rm -f $(docker ps -aq)        # åˆ é™¤æ‰€æœ‰å®¹å™¨ï¼Œå¼ºåˆ¶åˆ é™¤ï¼ŒåŒ…æ‹¬æ­£åœ¨è¿è¡Œçš„å®¹å™¨
docker ps -a -q|xargs docker rm      # åˆ é™¤æ‰€æœ‰çš„å®¹å™¨

# å¯åŠ¨å’Œåœæ­¢å®¹å™¨æ“ä½œ
docker start å®¹å™¨Id                   # å¯åŠ¨å®¹å™¨
dockre restart å®¹å™¨Id                 # é‡å¯å®¹å™¨
docker stop å®¹å™¨Id                    # åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
docker kill å®¹å™¨Id                    # å¼ºåˆ¶åœæ­¢å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨</span></span></span></code></pre><div id="https://www.notion.so/b7b04b70f0ac463d869962a4e16cddf6" class="Divider"></div><h3 id="https://www.notion.so/e7b7abdd3ada488e960231f862382cb4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e7b7abdd3ada488e960231f862382cb4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å¸¸ç”¨å…¶ä»–å‘½ä»¤</span></span></h3><pre id="https://www.notion.so/c2ee2100772f415d90bbcc9dea701cb3" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># åå°å¯åŠ¨å®¹å™¨
docker run -d å®¹å™¨åå­—/å®¹å™¨Id

# æŸ¥çœ‹æ—¥å¿—
docker logs --help
docker logs -f -t --tail
    -tf         # æ˜¾ç¤ºæ—¥å¿—
    --tail num  # æ˜¾ç¤ºæ—¥å¿—æ¡æ•°

# æŸ¥çœ‹é•œåƒå…ƒæ•°æ®
docker inspect å®¹å™¨id

# è¿›å…¥å½“å‰æ­£åœ¨è¿è¡Œçš„å®¹å™¨
# æ–¹å¼ä¸€
docker exec -it å®¹å™¨Id bashShell  # è¿›å…¥å®¹å™¨åï¼Œå¼€å¯ä¸€ä¸ªæ–°çš„ç»ˆç«¯ï¼Œå¯ä»¥åœ¨é‡Œé¢æ“ä½œ
docker exec -it å®¹å™¨Id /bin/bash
# æ–¹å¼äºŒ
docker attach å®¹å™¨Id              # è¿›å…¥å®¹å™¨æ­£åœ¨æ‰§è¡Œçš„ç»ˆç«¯ï¼Œä¸ä¼šå¯åŠ¨æ–°çš„è¿›ç¨‹

# ä»å®¹å™¨å†…æ‹·è´æ–‡ä»¶åˆ°ä¸»æœºä¸Š

docker cp å®¹å™¨idï¼šå®¹å™¨å†…è·¯å¾„ ç›®çš„çš„ä¸»æœºè·¯å¾„
</span></span></span></code></pre><h1 id="https://www.notion.so/4a455d815dd64596ba177289820d7214" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/4a455d815dd64596ba177289820d7214"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">äº”ã€Dockeré•œåƒåŠ è½½åŸç†</span></span></h1><h3 id="https://www.notion.so/4d526d2e89f444af8114c1091faa6cbe" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/4d526d2e89f444af8114c1091faa6cbe"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">UnionFSï¼š</span></span></h3><div id="https://www.notion.so/a4ec46bb58a44caeb5b28e322315c9c5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">è”åˆæ–‡ä»¶ç³»ç»Ÿï¼šä¸€æ¬¡åŒæ—¶åŠ è½½å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿï¼Œå¤šä¸ªæ–‡ä»¶ç³»ç»Ÿå åŠ è”åˆæ„æˆæ‰€æœ‰åº•å±‚çš„æ–‡ä»¶å’Œç›®å½•ã€‚</span></span></p></div><h3 id="https://www.notion.so/e17021c5301f41769ca3c498b77694a7" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/e17021c5301f41769ca3c498b77694a7"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockeré•œåƒåŠ è½½åŸç†ï¼š</span></span></h3><blockquote id="https://www.notion.so/df459bbae2ec436f848392aa34106187" class="ColorfulBlock ColorfulBlock--ColorDefault Quote"><span class="SemanticStringArray"><span class="SemanticString">bootfs+rootfs</span></span></blockquote><div id="https://www.notion.so/98bb213cc178413cad7b3855ee3aeed5" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">bootfsï¼ˆboot file systemï¼‰ï¼šå¼•å¯¼åŠ è½½kernel</span></span></p></div><div id="https://www.notion.so/3de9beac8c6748078fba3b2cdca5cbc0" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">rootfsï¼ˆroot file systemï¼‰ï¼šå„ç§æ“ä½œç³»ç»Ÿ</span></span></p></div><h3 id="https://www.notion.so/89e9f0ea19084a63b55e6572f1774372" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/89e9f0ea19084a63b55e6572f1774372"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">é•œåƒåˆ†å±‚</span></span></h3><div id="https://www.notion.so/26ae179f1b244742bccc67eec7bb2a1b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Dockeré•œåƒéƒ½æ˜¯åªè¯»çš„ï¼Œå½“å®¹å™¨å¯åŠ¨æ—¶ï¼Œä¸€ä¸ªæ–°çš„å¯å†™å±‚å‘—åŠ è½½åˆ°é•œåƒé¡¶éƒ¨ï¼Œè¿™ä¸€å±‚æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºå®¹å™¨å±‚ï¼Œå®¹å™¨å±‚ä¹‹ä¸‹çš„éƒ½å«é•œåƒå±‚ã€‚</span></span></p></div><h3 id="https://www.notion.so/cb1b0cbaecf4426fa865fb4a77631f7f" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/cb1b0cbaecf4426fa865fb4a77631f7f"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Commité•œåƒ</span></span></h3><pre id="https://www.notion.so/be71b21137a342e8b0468eb639c0f5db" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æäº¤å®¹å™¨æˆä¸ºä¸€ä¸ªæ–°çš„å‰¯æœ¬
docker commit

# å‘½ä»¤ä¸gitåŸç†ç›¸ä¼¼
docker commit -m=&quot;æäº¤çš„æè¿°ä¿¡æ¯&quot; -a=&quot;ä½œè€…&quot; [å®¹å™¨Id] [ç›®æ ‡é•œåƒå]:[TAG]</span></span></span></code></pre><div id="https://www.notion.so/521156104d8b4a3abf2c6d8269bf3496" class="Divider"></div><h3 id="https://www.notion.so/34e11bcd17af4e0089132cdaebb308c5" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/34e11bcd17af4e0089132cdaebb308c5"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®¹å™¨æ•°æ®å·</span></span></h3><h3 id="https://www.notion.so/c122b3dd9d184a5aacb3a25d6f24da99" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/c122b3dd9d184a5aacb3a25d6f24da99"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®¹å™¨æ•°æ®å·æ¦‚è¿°ï¼š</span></span></h3><div id="https://www.notion.so/f5fc2d1371c64a48bd3f74ebce6b254e" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ•°æ®å·æŠ€æœ¯ï¼ŒæŒ‡ç›®å½•çš„æŒ‚è½½ï¼Œå°†å®¹å™¨å†…çš„ç›®å½•æŒ‚è½½åˆ°Linuxç³»ç»Ÿä¸Šï¼Œ</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">å®ç°å®¹å™¨çš„æŒä¹…åŒ–å’ŒåŒæ­¥æ“ä½œï¼Œå®ç°å®¹å™¨é—´çš„æ•°æ®å…±äº«</strong></span></span></p></div><h3 id="https://www.notion.so/2005546e8dbc449c941e3b6a88d8dfe4" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2005546e8dbc449c941e3b6a88d8dfe4"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä½¿ç”¨æ•°æ®å·</span></span></h3><pre id="https://www.notion.so/02143c96e16f40c4aeab76548e0f7375" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æ–¹å¼ä¸€ï¼šç›´æ¥ä½¿ç”¨å‘½ä»¤æŒ‚è½½ -v
docker run -it -v [ä¸»æœºç›®å½•]:[å®¹å™¨ç›®å½•]

# æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
docker inspect [å®¹å™¨Id]</span></span></span></code></pre><div id="https://www.notion.so/010cc8259fe54809a4a7a21e48cef987" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div><div id="https://www.notion.so/149f4233a0e34c558832283a5e7e5054" class="Divider"></div><h1 id="https://www.notion.so/6d512ea98f774838a1d78dac4e5a3b13" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/6d512ea98f774838a1d78dac4e5a3b13"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å…­ã€DockerFile</span></span></h1><h3 id="https://www.notion.so/518c404596904bebbf44049a15237bcb" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/518c404596904bebbf44049a15237bcb"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">æ¦‚è¿°ï¼š</span></span></h3><div id="https://www.notion.so/fa7d0948d58943608b1dda0f85abb0ff" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">DockerFileï¼šæ„å»ºæ–‡ä»¶ï¼Œå®šä¹‰äº†ä¸€åˆ‡æ­¥éª¤ï¼Œæºä»£ç ï¼Œç”¨æ¥æ„å»ºé•œåƒæ–‡ä»¶çš„å‘½ä»¤å‚æ•°è„šæœ¬</span></span></p></div><div id="https://www.notion.so/331ff84f2d8e469fb552d971a5b29dbf" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">DockerImagesï¼šé€šè¿‡DockerFileæ„å»ºç”Ÿæˆçš„é•œåƒï¼Œæœ€ç»ˆå‘å¸ƒå¹¶è¿è¡Œ</span></span></p></div><div id="https://www.notion.so/7b2de189fa2745f4b4f4bc34711475c1" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Dockerå®¹å™¨ï¼šå®¹å™¨å°±æ˜¯é•œåƒè¿è¡Œèµ·æ¥æä¾›æœåŠ¡å™¨</span></span></p></div><h3 id="https://www.notion.so/5f11aceb8df846119201f5fb988cbb5b" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/5f11aceb8df846119201f5fb988cbb5b"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DockerFileç¼–å†™æ­¥éª¤ï¼š</span></span></h3><div id="https://www.notion.so/75be53c542e04ef6bcc05b4cfe0b9efd" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">æ„å»ºæ­¥éª¤ï¼š</span></span></p></div><div id="https://www.notion.so/622129eadee4425c9704857c1308d92c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">1ã€ç¼–å†™ä¸€ä¸ªdockerfile æ–‡ä»¶</span></span></p></div><div id="https://www.notion.so/28c561c4ccb24dea815d634fb173a13c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">2ã€docker build æ„å»ºæˆä¸ºä¸€ä¸ªé•œåƒ</span></span></p></div><div id="https://www.notion.so/460f7b515818421fa0546064dc8a9f5c" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">3ã€docker run è¿è¡Œé•œåƒ</span></span></p></div><div id="https://www.notion.so/083ccdc80e52497cb827952afd9d6f36" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">4ã€docker push å‘å¸ƒé•œåƒï¼ˆDocker hubã€é˜¿é‡Œäº‘ï¼‰</span></span></p></div><h3 id="https://www.notion.so/f7fe4c8069264469ac723f2f33ab512a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f7fe4c8069264469ac723f2f33ab512a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DockerFileåŸºç¡€çŸ¥è¯†ï¼š</span></span></h3><div id="https://www.notion.so/e68510803f4d448e9bcfc9ed2773eff9" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">1ã€æ¯ä¸ªå…³é”®å­—ï¼ˆæŒ‡ä»¤ï¼‰éƒ½å¿…é¡»ä¸ºå¤§å†™å­—æ¯ï¼›</span></span></p></div><div id="https://www.notion.so/7eab2980028f4384aadf2e3ada6caf92" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">2ã€æ‰§è¡Œä»ä¸Šåˆ°ä¸‹æŒ‰é¡ºåºæ‰§è¡Œï¼›</span></span></p></div><div id="https://www.notion.so/48a1ac87338043a3ac678beac25ec071" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">3ã€# è¡¨ç¤ºæ³¨é‡Šï¼›</span></span></p></div><div id="https://www.notion.so/b931e73569cb42e2973111d29765ec03" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">4ã€æ¯ä¸€ä¸ªæ‰§è¡Œéƒ½ä¼šåˆ›å»ºæäº¤ä¸€ä¸ªæ–°çš„é•œåƒå±‚ï¼Œå¹¶æäº¤ï¼</span></span></p></div><h3 id="https://www.notion.so/88f7fd33619142e0b7c7657cf503bd8d" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/88f7fd33619142e0b7c7657cf503bd8d"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DockerFileæ–‡ä»¶æ ¼å¼ï¼š</span></span></h3><div id="https://www.notion.so/84eb4c1884784836af67ade65874c63b" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString">Dockerfile åˆ†ä¸ºå››éƒ¨åˆ†ï¼š</span><span class="SemanticString"><strong class="SemanticString__Fragment SemanticString__Fragment--Bold">åŸºç¡€é•œåƒä¿¡æ¯ã€ç»´æŠ¤è€…ä¿¡æ¯ã€é•œåƒæ“ä½œæŒ‡ä»¤ã€å®¹å™¨å¯åŠ¨æ‰§è¡ŒæŒ‡ä»¤</strong></span><span class="SemanticString">ã€‚ä¸€å¼€å§‹å¿…é¡»è¦æŒ‡æ˜æ‰€åŸºäºçš„é•œåƒåç§°ï¼Œæ¥ä¸‹æ¥ä¸€èˆ¬ä¼šè¯´æ˜ç»´æŠ¤è€…ä¿¡æ¯ï¼›åé¢åˆ™æ˜¯é•œåƒæ“ä½œæŒ‡ä»¤ï¼Œä¾‹å¦‚ RUN æŒ‡ä»¤ã€‚æ¯æ‰§è¡Œä¸€æ¡RUN æŒ‡ä»¤ï¼Œé•œåƒæ·»åŠ æ–°çš„ä¸€å±‚ï¼Œå¹¶æäº¤ï¼›æœ€åæ˜¯ CMD æŒ‡ä»¤ï¼Œæ¥æŒ‡æ˜è¿è¡Œå®¹å™¨æ—¶çš„æ“ä½œå‘½ä»¤ã€‚</span></span></p></div><pre id="https://www.notion.so/06aaee8eab944698a4af45e98ad64b99" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>##  Dockerfileæ–‡ä»¶æ ¼å¼

# This dockerfile uses the ubuntu image
# VERSION 2 - EDITION 1
# Author: docker_user
# Command format: Instruction [arguments / command] ..

# 1ã€ç¬¬ä¸€è¡Œå¿…é¡»æŒ‡å®š åŸºç¡€é•œåƒä¿¡æ¯
FROM ubuntu

# 2ã€ç»´æŠ¤è€…ä¿¡æ¯
MAINTAINER docker_user docker_user@email.com

# 3ã€é•œåƒæ“ä½œæŒ‡ä»¤
RUN echo &quot;deb http://archive.ubuntu.com/ubuntu/ raring main universe&quot; &gt;&gt; /etc/apt/sources.list
RUN apt-get update &amp;&amp; apt-get install -y nginx
RUN echo &quot;\ndaemon off;&quot; &gt;&gt; /etc/nginx/nginx.conf

# 4ã€å®¹å™¨å¯åŠ¨æ‰§è¡ŒæŒ‡ä»¤
CMD /usr/sbin/nginx</span></span></span></code></pre><h3 id="https://www.notion.so/be430284415c4448bb18d998caaea6e3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/be430284415c4448bb18d998caaea6e3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DockerFileæŒ‡ä»¤è¯¦è§£</span></span></h3><pre id="https://www.notion.so/abad27c8b72a47e586914a36a8df4071" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>FROM            # åŸºç¡€é•œåƒ
MAINTAINER      # é•œåƒä½œè€…ï¼Œå§“å+é‚®ç®±
RUN             # é•œåƒæŒ‡ä»¤æ“ä½œæ­¥éª¤
WORKDIR         # é•œåƒå·¥ä½œç›®å½•
VOLUE           # æš´éœ²ç«¯å£
CMD             # æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼Œåªæœ‰æœ€åä¸€ä¸ªæ‰ç”Ÿæ•ˆï¼Œå¯è¢«æ›¿ä»£
ENTRYPOINT      # æŒ‡å®šå®¹å™¨å¯åŠ¨æ—¶è¦è¿è¡Œçš„å‘½ä»¤ï¼Œå¯è¿½åŠ å‘½ä»¤
ONBUILD         # è§¦å‘æŒ‡ä»¤ï¼Œå½“æ„å»ºä¸€ä¸ªè¢«ç»§æ‰¿Dockerfile,è¿™æ—¶å€™ä¼šè¿è¡ŒONBUILDæŒ‡ä»¤
COPY            # ç±»ä¼¼ADDï¼Œå°†æˆ‘ä»¬æ–‡ä»¶æ‹·è´åˆ°é•œåƒ
ENV             # æ„å»ºçš„æ—¶å€™è®¾ç½®ç¯å¢ƒå˜é‡
</span></span></span></code></pre><pre id="https://www.notion.so/2a6c4752d6074fdc8ea4f8acf2e19e08" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># FROM æŒ‡å®šåŸºç¡€é•œåƒ
FROM &lt;image&gt;
FROM &lt;image&gt;:&lt;tag&gt;
FROM &lt;image&gt;:&lt;digest&gt;

# RUN æ‰§è¡Œå‘½ä»¤
#shellæ ¼å¼
RUN &lt;command&gt;
#execæ ¼å¼
RUN [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]
# RUN æŒ‡ä»¤åˆ›å»ºçš„ä¸­é—´é•œåƒä¼šè¢«ç¼“å­˜ï¼Œå¹¶ä¼šåœ¨ä¸‹æ¬¡æ„å»ºä¸­ä½¿ç”¨ã€‚å¦‚æœä¸æƒ³ä½¿ç”¨è¿™äº›ç¼“å­˜é•œåƒï¼Œå¯ä»¥åœ¨æ„å»ºæ—¶æŒ‡å®š --no-cache å‚æ•°ï¼Œå¦‚ï¼šdocker build --no-cacheã€‚

# COPY å¤åˆ¶æ–‡ä»¶
COPY &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt;
COPY [&quot;&lt;æºè·¯å¾„1&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;]

# ADD æ›´é«˜çº§çš„å¤åˆ¶æ–‡ä»¶
# ADD æŒ‡ä»¤å’Œ COPY çš„æ ¼å¼å’Œæ€§è´¨åŸºæœ¬ä¸€è‡´ã€‚ä½†æ˜¯åœ¨ COPY åŸºç¡€ä¸Šå¢åŠ äº†ä¸€äº›åŠŸèƒ½ã€‚æ¯”å¦‚&lt;æºè·¯å¾„&gt;å¯ä»¥æ˜¯ä¸€ä¸ª URLï¼Œè¿™ç§æƒ…å†µä¸‹ï¼ŒDocker å¼•æ“ä¼šè¯•å›¾å»ä¸‹è½½è¿™ä¸ªé“¾æ¥çš„æ–‡ä»¶æ”¾åˆ°&lt;ç›®æ ‡è·¯å¾„&gt;å»ã€‚
ADD &lt;æºè·¯å¾„&gt;... &lt;ç›®æ ‡è·¯å¾„&gt;
ADD [&quot;&lt;æºè·¯å¾„&gt;&quot;,... &quot;&lt;ç›®æ ‡è·¯å¾„&gt;&quot;]

# ENV è®¾ç½®ç¯å¢ƒå˜é‡
ENV &lt;key&gt; &lt;value&gt;
ENV &lt;key1&gt;=&lt;value1&gt; &lt;key2&gt;=&lt;value2&gt;...

# EXPOSE è®¾ç½®ç›‘å¬ç«¯å£
EXPOSE &lt;port&gt; [&lt;port&gt;...]

# VOLUME å®šä¹‰åŒ¿åå·
VOLUME [&quot;/data&quot;]

# WORKDIR æŒ‡å®šå·¥ä½œç›®å½•
WORKDIR /path/to/workdir

# USER æŒ‡å®šå½“å‰ç”¨æˆ·
USER daemon

# CMD æŒ‡å®šåœ¨å®¹å™¨å¯åŠ¨æ—¶æ‰€è¦æ‰§è¡Œçš„å‘½ä»¤
CMD [&quot;executable&quot;,&quot;param1&quot;,&quot;param2&quot;]
CMD [&quot;param1&quot;,&quot;param2&quot;]
CMD command param1 param2

# ENTRYPOINT è®¾ç½®ä¸€ä¸ªå¯æ‰§è¡Œç¨‹åº
ENTRYPOINT [&quot;executable&quot;, &quot;param1&quot;, &quot;param2&quot;]
ENTRYPOINT command param1 param2

# LABEL ä¸ºé•œåƒæ·»åŠ å…ƒæ•°æ®
LABEL &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; &lt;key&gt;=&lt;value&gt; ...
LABEL version=&quot;1.0&quot; description=&quot;è¿™æ˜¯ä¸€ä¸ªWebæœåŠ¡å™¨&quot; by=&quot;ITç¬”å½•&quot;

# ONBUILD è®¾ç½®é•œåƒè§¦å‘å™¨
ONBUILD [INSTRUCTION]
ONBUILD ADD . /app/src
ONBUILD RUN /usr/local/bin/python-build --dir /app/src</span></span></span></code></pre><h3 id="https://www.notion.so/11fb1d4f9dfe4aac9f97e324c3af3950" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/11fb1d4f9dfe4aac9f97e324c3af3950"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å®ä¾‹ï¼š</span></span></h3><h3 id="https://www.notion.so/9ff8bc7f324f4070b95ab22e979fce2e" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/9ff8bc7f324f4070b95ab22e979fce2e"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">DockerFileæ„å»ºNginxè¿è¡Œç¯å¢ƒ</span></span></h3><pre id="https://www.notion.so/a626ddeee8b84769b318a6e36adeadb5" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æŒ‡å®šåŸºç¡€é•œåƒ
FROM sameersbn/ubuntu:14.04.20161014

# ç»´æŠ¤è€…ä¿¡æ¯
MAINTAINER sameer@damagehead.com

# è®¾ç½®ç¯å¢ƒ
ENV RTMP_VERSION=1.1.10 \
    NPS_VERSION=1.11.33.4 \
    LIBAV_VERSION=11.8 \
    NGINX_VERSION=1.10.1 \
    NGINX_USER=www-data \
    NGINX_SITECONF_DIR=/etc/nginx/sites-enabled \
    NGINX_LOG_DIR=/var/log/nginx \
    NGINX_TEMP_DIR=/var/lib/nginx \
    NGINX_SETUP_DIR=/var/cache/nginx

# è®¾ç½®æ„å»ºæ—¶å˜é‡ï¼Œé•œåƒå»ºç«‹å®Œæˆåå°±å¤±æ•ˆ
ARG BUILD_LIBAV=false
ARG WITH_DEBUG=false
ARG WITH_PAGESPEED=true
ARG WITH_RTMP=true

# å¤åˆ¶æœ¬åœ°æ–‡ä»¶åˆ°å®¹å™¨ç›®å½•ä¸­
COPY setup/ ${NGINX_SETUP_DIR}/
RUN bash ${NGINX_SETUP_DIR}/install.sh

# å¤åˆ¶æœ¬åœ°é…ç½®æ–‡ä»¶åˆ°å®¹å™¨ç›®å½•ä¸­
COPY nginx.conf /etc/nginx/nginx.conf
COPY entrypoint.sh /sbin/entrypoint.sh

# è¿è¡ŒæŒ‡ä»¤
RUN chmod 755 /sbin/entrypoint.sh

# å…è®¸æŒ‡å®šçš„ç«¯å£
EXPOSE 80/tcp 443/tcp 1935/tcp

# æŒ‡å®šç½‘ç«™ç›®å½•æŒ‚è½½ç‚¹
VOLUME [&quot;${NGINX_SITECONF_DIR}&quot;]

ENTRYPOINT [&quot;/sbin/entrypoint.sh&quot;]
CMD [&quot;/usr/sbin/nginx&quot;]</span></span></span></code></pre><h3 id="https://www.notion.so/f29921b02b014fdeaf1eda00efa43252" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/f29921b02b014fdeaf1eda00efa43252"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockerfileæ–‡ä»¶æ„å»ºtomcat ç¯å¢ƒï¼ˆä¸€ï¼‰</span></span></h3><pre id="https://www.notion.so/20aacc68448f4ab8a13571594fd5a99d" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># æŒ‡å®šåŸºäºçš„åŸºç¡€é•œåƒ
FROM ubuntu:13.10

# ç»´æŠ¤è€…ä¿¡æ¯
MAINTAINER zhangjiayang &quot;zhangjiayang@sczq.com.cn&quot;

# é•œåƒçš„æŒ‡ä»¤æ“ä½œ
# è·å–APTæ›´æ–°çš„èµ„æºåˆ—è¡¨
RUN echo &quot;deb http://archive.ubuntu.com/ubuntu precise main universe&quot;&gt; /etc/apt/sources.list
# æ›´æ–°è½¯ä»¶
RUN apt-get update

# Install curl
RUN apt-get -y install curl

# Install JDK 7
RUN cd /tmp &amp;&amp;  curl -L &#x27;http://download.oracle.com/otn-pub/java/jdk/7u65-b17/jdk-7u65-linux-x64.tar.gz&#x27; -H &#x27;Cookie: oraclelicense=accept-securebackup-cookie; gpw_e24=Dockerfile&#x27; | tar -xz
RUN mkdir -p /usr/lib/jvm
RUN mv /tmp/jdk1.7.0_65/ /usr/lib/jvm/java-7-oracle/

# Set Oracle JDK 7 as default Java
RUN update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-7-oracle/bin/java 300
RUN update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/java-7-oracle/bin/javac 300

# è®¾ç½®ç³»ç»Ÿç¯å¢ƒ
ENV JAVA_HOME /usr/lib/jvm/java-7-oracle/

# Install tomcat7
RUN cd /tmp &amp;&amp; curl -L &#x27;http://archive.apache.org/dist/tomcat/tomcat-7/v7.0.8/bin/apache-tomcat-7.0.8.tar.gz&#x27; | tar -xz
RUN mv /tmp/apache-tomcat-7.0.8/ /opt/tomcat7/

ENV CATALINA_HOME /opt/tomcat7
ENV PATH $PATH:$CATALINA_HOME/bin

# å¤ä»¶tomcat7.shåˆ°å®¹å™¨ä¸­çš„ç›®å½•
ADD tomcat7.sh /etc/init.d/tomcat7
RUN chmod 755 /etc/init.d/tomcat7

# Expose ports.  æŒ‡å®šæš´éœ²çš„ç«¯å£
EXPOSE 8080

# Define default command.
ENTRYPOINT service tomcat7 start &amp;&amp; tail -f /opt/tomcat7/logs/catalina.out</span></span></span></code></pre><div id="https://www.notion.so/e2c398c05c2d45e398226d3a4c6bd170" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"><span class="SemanticString"><code class="SemanticString__Fragment SemanticString__Fragment--Code">tomcat7.sh</code></span><span class="SemanticString">å‘½ä»¤æ–‡ä»¶</span></span></p></div><pre id="https://www.notion.so/6e3184a2618f415a8c59f9d34abaaa3f" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>export JAVA_HOME=/usr/lib/jvm/java-7-oracle/
export TOMCAT_HOME=/opt/tomcat7

case $1 in
start)
  sh $TOMCAT_HOME/bin/startup.sh
;;
stop)
  sh $TOMCAT_HOME/bin/shutdown.sh
;;
restart)
  sh $TOMCAT_HOME/bin/shutdown.sh
  sh $TOMCAT_HOME/bin/startup.sh
;;
esac
exit 0</span></span></span></code></pre><h3 id="https://www.notion.so/2fceec00afde44c58b12a66b4ca411f3" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/2fceec00afde44c58b12a66b4ca411f3"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Dockerfileæ–‡ä»¶æ„å»ºtomcat ç¯å¢ƒï¼ˆäºŒï¼‰ï¼š</span></span></h3><pre id="https://www.notion.so/e3e01125d0c141229456740aa4633194" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span>FROM centos
MAINTAINER lzh

COPY readme.txt /usr/local/
ADD apache-tomcat-9.0.22.tar.gz /usr/local/

RUN yum -y install vim

ENV MYPATH /usr/local
WORKDIR $MYPATH

ENV JAVA_HOME /usr/local/jdk1.8.0_11
ENV CLASSPATH $JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar
ENV CATALINA_HOME /usr/local/apache-tomcat-9.0.22
ENV CATALINA_BASH /usr/local/apache-tomcat-9.0.22
ENV PATH $PATH:$JAVA_HOME/bin:$CATALINA_HOME/lib:$CATALINA_HOME/bin

EXPOSE 8080

CMD /usr/local/apache-tomcat-9.0.22/bin/start.sh &amp;&amp; /usr/local/apache-tomcat-9.0.22/bin/logs/catalina.out</span></span></span></code></pre><div id="https://www.notion.so/65fa7378eeff407e912ec1d4704cbc00" class="Divider"></div><h1 id="https://www.notion.so/ec17d583cf5a41e18741b7fd1c26268a" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--1"><a class="Anchor" href="#https://www.notion.so/ec17d583cf5a41e18741b7fd1c26268a"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">ä¸ƒã€Docker Compose</span></span></h1><h3 id="https://www.notion.so/a158250fc52d455f8c1691a0e20ab884" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/a158250fc52d455f8c1691a0e20ab884"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">Docker Composeçš„å®‰è£…</span></span></h3><pre id="https://www.notion.so/9d0cec7ab4214e228e7bae132188ca85" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># ä¸‹è½½å®‰è£…åŒ…
sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.25.4/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose
# è®¾ç½®æƒé™
sudo chmod +x /usr/local/bin/docker-compose
# æ·»åŠ è½¯è¿æ¥
sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose
# æŸ¥çœ‹å®‰è£…ä¿¡æ¯
docker-compose --version
# å¸è½½æ•°æ®
sudo rm /usr/local/bin/docker-compose</span></span></span></code></pre><h3 id="https://www.notion.so/46ebecb0f8f549dfa4506347c043a808" class="ColorfulBlock ColorfulBlock--ColorDefault Heading Heading--3"><a class="Anchor" href="#https://www.notion.so/46ebecb0f8f549dfa4506347c043a808"><svg width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><span class="SemanticStringArray"><span class="SemanticString">å¸¸ç”¨å‘½ä»¤</span></span></h3><pre id="https://www.notion.so/9b34b140044b4f629307a2780330d9a3" class="Code"><code><span class="SemanticStringArray"><span class="SemanticString"><span># åå°å¯åŠ¨
docker-compose up -d
# åœæ­¢
docker-compose down
# æŸ¥è¯¢å®¹å™¨åˆ—è¡¨
docker-compose ps
     Name                   Command               State                 Ports
--------------------------------------------------------------------------------------------
mysql_atlas_1    /bin/sh -c /usr/local/mysq ...   Up      0.0.0.0:12346-&gt;1234/tcp
mysql_master_1   docker-entrypoint.sh mysqld      Up      0.0.0.0:12347-&gt;3306/tcp, 33060/tcp
mysql_slave1_1   docker-entrypoint.sh mysqld      Up      0.0.0.0:12348-&gt;3306/tcp, 33060/tcp
mysql_slave2_1   docker-entrypoint.sh mysqld      Up      0.0.0.0:12349-&gt;3306/tcp, 33060/tcp
# æŸ¥è¯¢æ—¥å¿— (æŸ¥è¯¢æ‰€æœ‰æ—¥å¿—ï¼Œå¯ä»¥è¾…åŠ©æ’æŸ¥ä¸ªåˆ«å®¹å™¨å¯åŠ¨å¤±è´¥é—®é¢˜)
docker-compose logs

docker-compose å‘½ä»¤ --help                     è·å¾—ä¸€ä¸ªå‘½ä»¤çš„å¸®åŠ©
docker-compose up -d nginx                     æ„å»ºå¯åŠ¨nignxå®¹å™¨
docker-compose exec nginx bash                 ç™»å½•åˆ°nginxå®¹å™¨ä¸­
docker-compose down                            æ­¤å‘½ä»¤å°†ä¼šåœæ­¢ up å‘½ä»¤æ‰€å¯åŠ¨çš„å®¹å™¨ï¼Œå¹¶ç§»é™¤ç½‘ç»œ
docker-compose ps                              åˆ—å‡ºé¡¹ç›®ä¸­ç›®å‰çš„æ‰€æœ‰å®¹å™¨
docker-compose restart nginx                   é‡æ–°å¯åŠ¨nginxå®¹å™¨
docker-compose build nginx                     æ„å»ºé•œåƒ
docker-compose build --no-cache nginx          ä¸å¸¦ç¼“å­˜çš„æ„å»º
docker-compose top                             æŸ¥çœ‹å„ä¸ªæœåŠ¡å®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹
docker-compose logs -f nginx                   æŸ¥çœ‹nginxçš„å®æ—¶æ—¥å¿—
docker-compose images                          åˆ—å‡º Compose æ–‡ä»¶åŒ…å«çš„é•œåƒ
docker-compose config                          éªŒè¯æ–‡ä»¶é…ç½®ï¼Œå½“é…ç½®æ­£ç¡®æ—¶ï¼Œä¸è¾“å‡ºä»»ä½•å†…å®¹ï¼Œå½“æ–‡ä»¶é…ç½®é”™è¯¯ï¼Œè¾“å‡ºé”™è¯¯ä¿¡æ¯ã€‚
docker-compose events --json nginx             ä»¥jsonçš„å½¢å¼è¾“å‡ºnginxçš„dockeræ—¥å¿—
docker-compose pause nginx                     æš‚åœnignxå®¹å™¨
docker-compose unpause nginx                   æ¢å¤ningxå®¹å™¨
docker-compose rm nginx                        åˆ é™¤å®¹å™¨ï¼ˆåˆ é™¤å‰å¿…é¡»å…³é—­å®¹å™¨ï¼Œæ‰§è¡Œstopï¼‰
docker-compose stop nginx                      åœæ­¢nignxå®¹å™¨
docker-compose start nginx                     å¯åŠ¨nignxå®¹å™¨
docker-compose restart nginx                   é‡å¯é¡¹ç›®ä¸­çš„nignxå®¹å™¨
docker-compose run --no-deps --rm php-fpm php -v   åœ¨php-fpmä¸­ä¸å¯åŠ¨å…³è”å®¹å™¨ï¼Œå¹¶å®¹å™¨æ‰§è¡Œphp -v æ‰§è¡Œå®Œæˆååˆ é™¤å®¹å™¨</span></span></span></code></pre><div id="https://www.notion.so/f850ee66fe1f4aa9a10c99ff7ce8caca" class="ColorfulBlock ColorfulBlock--ColorDefault Text"><p class="Text__Content"><span class="SemanticStringArray"></span></p></div></article>
  <footer class="Footer">
  <div>&copy; Jaleel 2023</div>
  <div>&centerdot;</div>
  <div>Powered by <a href="https://github.com/dragonman225/notablog" target="_blank"
      rel="noopener noreferrer">Notablog</a>.
  </div>
</footer>
</body>

</html>